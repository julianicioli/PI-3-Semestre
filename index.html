<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AquaSense UI - Dashboard</title>


  <!-- Favicon -->
  <link rel="icon" type="ico" href="img/favicon.ico" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body { background-color: #f4f6f8; }
    .sidebar {
  width: 240px;
  height: 100vh;
  position: fixed;
  left: 0;
  top: 0;

  /* imagem de fundo */
  background-image: url('img/backgroundSidebar.png');
  background-size: cover;      /* cobre toda a sidebar */
  background-position: center; /* centraliza a imagem */
  background-repeat: no-repeat; /* n√£o repete */
  
  color: #fff;
  padding: 1.5rem;
}
    .sidebar a { color: #fff; text-decoration: none; display:flex; align-items:center; margin-bottom:.8rem; font-weight:500; transition:.2s; }
    .sidebar a:hover { opacity:.8; }
    .sidebar i { margin-right:.5rem; }
    main { margin-left:260px; padding:2rem; }
    .card { border:none; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    .gauge-container { width:100%; height:160px; position:relative; }
    
    /* Forecast container exclusivo */
    .forecast-cards-container {
      display:flex; justify-content:center; gap:12px; flex-wrap:wrap; margin-top:16px;
    }
    .forecast-card {
      border-radius:10px; padding:12px; text-align:center; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.06);
      height:120px; display:flex; flex-direction:column; justify-content:center; align-items:center; min-width:110px;
    }
    .forecast-icon { font-size:28px; margin-bottom:6px; }
    .forecast-temp { font-weight:700; }
    .forecast-hum { color:#6c757d; font-size:13px; }

    @media(max-width:768px){ 
      .sidebar{width:100%; height:auto; position:relative;} 
      main{margin-left:0;} 
      .forecast-card { min-width:95px; height:auto; padding:10px; }
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <h4 class="fw-bold mb-4 text-center">AQUASENSE UI</h4>
    <a href="#"><i class="bi bi-bar-chart-line"></i> Not√≠cias</a>
    <a href="TelaCadastroCidadao.html"><i class="bi bi-person-plus"></i> Cadastro Cidad√£o</a>
    <a href="view/loginCidadao.php"><i class="bi bi-person-circle"></i> Login Cidad√£o</a>
    <a href="view/loginFuncionario.php"><i class="bi bi-person-badge"></i> Login Funcion√°rio</a>
    <hr class="border-light">
    <small class="text-white-50 d-block text-center">v2.0 ‚Ä¢ HTML + Chart.js + API</small>
  </div>

  <main>
    <h2 class="fw-semibold mb-4">N√≠vel de √Ågua</h2>
    <div class="row g-4 mb-4">
      <div class="col-md-4">
        <div class="card text-center p-3 mb-3">
          <h6 class="fw-semibold mb-3">N√≠vel da √Ågua</h6>
          <div class="gauge-container"><canvas id="gaugeNivel"></canvas></div>
          <div class="fw-bold fs-4 mt-2"><span id="nivelValor">246</span> <span class="text-muted fs-6">mm</span></div>
        </div>
        <div class="card mb-2"><div class="card-body d-flex justify-content-between"><span class="text-muted">√öltimas 24h</span><strong>-45 mm</strong></div></div>
        <div class="card"><div class="card-body d-flex justify-content-between"><span class="text-muted">M√°ximo 24h</span><strong>320 mm</strong></div></div>
      </div>

      <div class="col-md-8">
        <div class="card p-3">
          <h6 class="fw-semibold mb-3">√öltimos 7 Dias</h6>
          <canvas id="chartTrend"></canvas>
        </div>
      </div>
    </div>

    <h5 class="fw-semibold mb-3">Clima</h5>
    <div class="row g-4">
      <div class="col-md-3">
        <div class="card text-center p-3">
          <h6>Temperatura</h6>
          <div class="gauge-container"><canvas id="gaugeTemp"></canvas></div>
          <strong id="tempValor">24 ¬∞C</strong>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center p-3">
          <h6>Umidade Local</h6>
          <div class="gauge-container"><canvas id="gaugeUmid"></canvas></div>
          <strong id="umidValor">75%</strong>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center p-3">
          <h6>Vaz√£o de √°gua (min)</h6>
          <div class="gauge-container"><canvas id="gaugePress"></canvas></div>
          <strong id="pressValor">984 hPa</strong>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center p-3">
          <h6>Bateria</h6>
          <div class="gauge-container"><canvas id="gaugeBatt"></canvas></div>
          <strong id="battValor">3598 mV</strong>
        </div>
      </div>
    </div>

    <div class="card p-4 mt-4">
      <h5 class="fw-semibold mb-3">Previs√£o do Tempo ‚Äî Itapira (5 dias)</h5>
      <canvas id="chartClima" height="350"></canvas>
      <!-- Container exclusivo apenas para centralizar os 5 cards -->
      <div id="forecastRow" class="forecast-cards-container"></div>
    </div>
  </main>

  <script>
    function createGauge(ctx,value,min,max,color){
      new Chart(ctx,{
        type:'doughnut',
        data:{datasets:[{data:[value-min,max-value],backgroundColor:[color,'#e9ecef'],borderWidth:0}]},
        options:{
          rotation:-90,
          circumference:180,
          cutout:'70%',
          plugins:{legend:{display:false},tooltip:{enabled:false}},
          responsive:true,
          maintainAspectRatio:false
        }
      });
    }

    // Gauges
    createGauge(document.getElementById('gaugeNivel'),246,0,400,'#007bff');
    createGauge(document.getElementById('gaugeTemp'),24,0,40,'#0d6efd');
    createGauge(document.getElementById('gaugeUmid'),75,0,100,'#00bfa6');
    createGauge(document.getElementById('gaugePress'),984,940,1080,'#ff8800');
    createGauge(document.getElementById('gaugeBatt'),3598,3000,4200,'#dc3545');

    // Gr√°fico tend√™ncia
    new Chart(document.getElementById('chartTrend'),{
      type:'line',
      data:{labels:['Seg','Ter','Qua','Qui','Sex','S√°b','Dom'],datasets:[{label:'N√≠vel (mm)',data:[210,240,260,280,260,250,246],borderColor:'#007bff',backgroundColor:'rgba(0,123,255,0.15)',fill:true,tension:0.3}]},
      options:{plugins:{legend:{display:false}},scales:{y:{beginAtZero:false,min:0,max:400}}}
    });

    // Gr√°fico clima simulado
    new Chart(document.getElementById('chartClima'),{
      type:'line',
      data:{labels:['Seg','Ter','Qua','Qui','Sex'],datasets:[
        {label:'Temperatura (¬∞C)',data:[24.1,25.3,26,22.9,23.5],borderColor:'#f39c12',yAxisID:'y1',fill:false,tension:0.3},
        {label:'Umidade (%)',data:[90,87,93,88,91],borderColor:'#3498db',yAxisID:'y2',fill:false,tension:0.3}
      ]},
      options:{
        responsive:true,
        interaction:{mode:'index'},
        stacked:false,
        scales:{
          y1:{type:'linear',position:'left',beginAtZero:true,min:-0,max:40,title:{display:true,text:'Temperatura (¬∞C)'}},
          y2:{type:'linear',position:'right',beginAtZero:true,min:0,max:100,title:{display:true,text:'Umidade (%)'},grid:{drawOnChartArea:false}}
        }
      }
    });

    // Forecast 5 dias - exemplo est√°tico, centralizado no container exclusivo
    const forecastData = [
      {day:'Seg',icon:'‚òÄÔ∏è',max:26,min:18,hum:65},
      {day:'Ter',icon:'üå§Ô∏è',max:25,min:17,hum:70},
      {day:'Qua',icon:'üåßÔ∏è',max:22,min:16,hum:80},
      {day:'Qui',icon:'‚õàÔ∏è',max:24,min:17,hum:75},
      {day:'Sex',icon:'‚òÅÔ∏è',max:23,min:18,hum:68}
    ];
    const forecastRow = document.getElementById('forecastRow');
    forecastRow.innerHTML = forecastData.map(d=>`
      <div class="forecast-card">
        <div class="forecast-day">${d.day}</div>
        <div class="forecast-icon">${d.icon}</div>
        <div class="forecast-temp">${d.max}¬∞ / <span style="color:#6c757d">${d.min}¬∞</span></div>
        <div class="forecast-hum">Umid. ${d.hum}%</div>
      </div>
    `).join('');
  </script>
</body>
</html>
